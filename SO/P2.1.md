# Practica 2.1: Introducción a la programación de sistemas UNIX

# Objetivos
En esta práctica estudiaremos el uso básico del API de un sistema UNIX y su entorno de desarrollo. En particular, se usarán funciones para gestionar errores y obtener información.

# Gestión de errores
Usar las funciones disponibles en el API del sistema (perror(3) y strerror(3)) para gestionar los errores en los siguientes casos. En cada ejercicio, añadir las librerías necesarias (#include).

```c
#include <sys/types.h>
#include <unistd.h>
#include <stdio.h>
```

### Ejercicio 1
Añadir el código necesario para gestionar correctamente los errores generados por la llamada a setuid(2). Consultar en el manual el propósito de la llamada y su prototipo.
```c
int main() {
	setuid(0);
	return 1;
}
```

### Ejercicio 2 
Imprimir el código de error generado por la llamada del código anterior, tanto en su versión numérica como la cadena asociada.

### Ejercicio 3

Escribir un programa que imprima todos los mensajes de error disponibles en el sistema. Considerar inicialmente que el límite de errores posibles es 255.

# Información del sistema

### Ejercicio 4
El comando del sistema uname(1) muestra información sobre diversos aspectos del sistema. Consultar la página de manual y obtener la información del sistema.

### Ejercicio 5
Escribir un programa que muestre, con uname(2), cada aspecto del sistema y su valor. Comprobar la correcta ejecución de la llamada en cada caso.
### Ejercicio 6
Escribir un programa que obtenga, con sysconf(3), la información de configuración del sistema e imprima, por ejemplo, la longitud máxima de los argumentos, el número máximo de hijos y el número máximo de ficheros.
### Ejercicio 7
Repetir el ejercicio anterior pero en este caso para la configuración del sistema de ficheros, con pathconf(3). Por ejemplo, que muestre el número máximo de enlaces, el tamaño máximo de una ruta y el de un nombre de fichero.
# Información del usuario

### Ejercicio 8
El comando id(1) muestra la información de usuario real y efectiva. Consultar la página de manual y comprobar su funcionamiento.

### Ejercicio 9
Escribir un programa que muestre, igual que id, el UID real y efectivo del usuario. ¿Cuándo podríamos asegurar que el fichero del programa tiene activado el bit  *setuid*?

### Ejercicio 10
Modificar el programa anterior para que muestre además el nombre de usuario, el  directorio  *home*  y la descripción del usuario.

# Información horaria del sistema

### Ejercicio 11

El comando date(1) muestra la hora del sistema. Consultar la página de manual y familiarizarse con los distintos formatos disponibles para mostrar la hora.### Ejercicio 12
Iniciar la captura de paquetes en Router. Arrancar el cliente DHCP ``` dhclient -d eth0 ``` en la máquina virtual VM1 y observar el proceso de configuración. Completar la siguiente tabla:

| IP Origen | IP Destino | Mensaje DHCP | Opciones DHCP |
|--|--|--|--|
|  |  |  |  |
### Ejercicio 13 [VM4]
Durante el arranque del sistema se pueden configurar automáticamente determinados interfaces según la información almacenada en el disco del servidor. Consultar el fichero /etc/sysconfig/network-scripts/ifcfg-eth0 de VM4, que configura automáticamente eth0 usando DHCP. Para más información, consultar el fichero /usr/share/doc/initscripts-*/sysconfig.txt.
### Ejercicio 14 [VM4]
Comprobar la configuración automática con las órdenes ifup e ifdown. Verificar la conectividad entre todas las máquinas de las dos redes.



> Written with [StackEdit](https://stackedit.io/).
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTExMDkzNDE5NF19
-->