# Practica 1.5: RIP y BGP

# Objetivos
En esta práctica se afianzan los conceptos elementales del encaminamiento IP. En particular, se estudia un protocolo de encaminamiento interior y otro exterior: RIP (_Routing Information Protocol_) y BGP (_Border Gateway Protocol_).

Existen muchas implementaciones de los protocolos de encaminamiento. En esta práctica vamos a utilizar Quagga, que actualmente implementa RIP (versiones 1 y 2), RIPng, OSPF, OSPFv3, IS-IS y BGP. Quagga está estructurado en diferentes servicios (uno para cada protocolo) controlados por un servicio central (Zebra) que hace de interfaz entre la tabla de encaminamiento del  _kernel_  y la información de encaminamiento de los protocolos individuales.

Todos los ficheros de configuración han de almacenarse en el directorio /etc/quagga. La sintaxis de estos ficheros es sencilla y está disponible en  [http://quagga.net](http://quagga.net/). Revisar especialmente la correspondiente a RIP y BGP en  [https://www.quagga.net/docs/quagga.html](https://www.quagga.net/docs/quagga.html). Además, en /usr/share/doc/quagga-0.99.22.4 hay ficheros de ejemplo.

# Protocolo interior: RIP
## Preparación del entorno
```c
netprefix inet
machine 1 0 0 1 3 2 4
machine 2 0 0 1 1 2 5
machine 3 0 2 1 1 2 6
machine 4 0 2 1 3 2 7
```
|  Maquina | Interfaz | Red Interna | Dir. de red | Dir. IP
|--|--|--|--|--|
| Router1  | eth0 eth1 eth2  | inet0 inet3 inet4 | 172.16.0.0/16 172.19.0.0/16 192.168.0.0/24 | 172.16.0.1 172.19.0.1 192.168.0.1 |
| Router2  | eth0 eth1 eth2  | inet0 inet1 inet5 | 172.16.0.0/16 172.17.0.0/16 192.168.1.0/24 | 172.16.0.2 172.17.0.2 192.168.1.2 |
| Router3  | eth0 eth1 eth2  | inet2 inet1 inet6 | 172.18.0.0/16 172.17.0.0/16 192.168.2.0/24 | 172.18.0.3 172.17.0.3 192.168.2.3 |
| Router4  | eth0 eth1 eth2  | inet2 inet3 inet7 | 172.18.0.0/16 172.19.0.0/16 192.168.3.0/24 | 172.18.0.4 172.19.0.4 192.168.3.4 |

### Ejercicio 1
Configurar todos los encaminadores según la figura y tabla anterior. Después, comprobar:

- Que los encaminadores adyacentes son alcanzables, por ejemplo, Router1 puede hacer  _ping_  a Router2 y Router4.

- Que la tabla de encaminamiento de cada encaminador es la correcta e incluye una entrada para cada una de las tres redes a las que está conectado.

Además, activar el  _forwarding_  de paquetes IPv4 igual que en la práctica 1.1.

## Configuración del protocolo RIP
### Ejercicio 2
### Ejercicio 1
### Ejercicio 1
### Ejercicio 1
### Ejercicio 1
# Protocolo exterior: BGP
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTEzOTAyOTYwNTZdfQ==
-->